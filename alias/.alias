if [[ -f "${HOME}/.dotfiles/functions/.functions" ]]; then
  # shellcheck disable=SC1090
  # shellcheck disable=SC1091
  source "${HOME}/.dotfiles/functions/.functions"
else
  echo "Could not find .functions file in dotfiles directory!"
  exit "1"
fi

####################
# Logins and Configs
####################
alias src="exec ${SHELL}"
alias cdd="cd "${HOME}/.dotfiles""

# zshrc
alias czsh=""${EDITOR}" "${HOME}/.zshrc""
alias szsh="source "${HOME}/.zshrc""

# alias
alias cali=""${EDITOR}" "${HOME}/.dotfiles/alias/alias""
alias sali="source "${HOME}/.dotfiles/alias/.alias""

# oh-my-zsh
alias cozsh=""${EDITOR}" "${HOME}/.oh-my-zsh""
alias sozsh="source "${HOME}/.oh-my-zsh""

# powerlevel10k
alias cp10k=""${EDITOR}" "${HOME}/.dotfiles/zsh/.p10k.zsh""
alias sp10k="source "${HOME}/.dotfiles/zsh/.p10k.zsh""

# tmux
alias ctmux="${EDITOR} ${HOME}/.tmux.conf"
alias stmux="source "${HOME}/.tmux.conf""
alias ktmux="pkill -f tmux"
####################
####################

####################
# Dotfiles
####################
alias dotfiles_create_gitconfig="${HOME}/.dotfiles/scripts/create_gitconfig.sh"
alias dotfiles_create_links="${HOME}/.dotfiles/scripts/create_links.sh"
alias dotfiles_decrypt_fonts="${HOME}/.dotfiles/scripts/decrypt_fonts.sh"
alias dotfiles_install="${HOME}/.dotfiles/scripts/install.sh"
alias dotfiles_set_permissions="${HOME}/.dotfiles/scripts/set_permissions.sh"
####################
####################

####################
# Common
####################
# navigation
alias cd..="cd .."
alias cd....="cd ../.."
alias cd/="cd /"

# set default flags
alias ls="ls --color=always -h --si"

unalias -m 'l'
l() {
  if [[ -n "${1}" ]]; then
    if [[ "${1: -1}" == "/" ]]; then
      ls -G -l -- "${1}" | sed '/total /d'
    elif [[ -d "${1}" ]]; then
      ls -G -l -- "${1}"/ | sed '/total /d'
    elif [[ "${1}" =~ "/" ]]; then
      ls -G -ld -- "$(dirname "${1}")"/*"$(basename "${1}")"* | sed '/total /d'
    else
      ls -G -ld -- *"${1}"* | sed '/total /d'
    fi
  else
    ls -G -l -- . | sed '/total /d'
  fi
}

unalias -m 'la'
la() {
  if [[ -n "${1}" ]]; then
    if [[ "${1: -1}" == "/" ]]; then
      ls -G -lA -- "${1}" | sed '/total /d'
    elif [[ -d "${1}" ]]; then
      ls -G -lA -- "${1}"/ | sed '/total /d'
    elif [[ "${1}" =~ "/" ]]; then
      ls -G -lAd -- "$(dirname "${1}")"/*"$(basename "${1}")"* | sed '/total /d'
    else
      ls -G -lAd -- *"${1}"* | sed '/total /d'
    fi
  else
    ls -G -lA -- . | sed '/total /d'
  fi
}

lg() {
  if [[ -n "${1}" ]]; then
    if [[ "${1: -1}" == "/" ]]; then
      ls -l -- "${1}" | sed '/total /d'
    elif [[ -d "${1}" ]]; then
      ls -l -- "${1}"/ | sed '/total /d'
    elif [[ "${1}" =~ "/" ]]; then
      ls -ld -- "$(dirname "${1}")"/*"$(basename "${1}")"* | sed '/total /d'
    else
      ls -ld -- *"${1}"* | sed '/total /d'
    fi
  else
    ls -l -- . | sed '/total /d'
  fi
}

lga() {
  if [[ -n "${1}" ]]; then
    if [[ "${1: -1}" == "/" ]]; then
      ls -lA -- "${1}" | sed '/total /d'
    elif [[ -d "${1}" ]]; then
      ls -lA -- "${1}"/ | sed '/total /d'
    elif [[ "${1}" =~ "/" ]]; then
      ls -lAd -- "$(dirname "${1}")"/*"$(basename "${1}")"* | sed '/total /d'
    else
      ls -lAd -- *"${1}"* | sed '/total /d'
    fi
  else
    ls -lA -- . | sed '/total /d'
  fi
}

lt() {
  if [[ -n "${1}" ]]; then
    if [[ "${1: -1}" == "/" ]]; then
      ls -G -lt -- "${1}" | sed '/total /d' | head -10
    elif [[ -d "${1}" ]]; then
      ls -G -lt -- "${1}"/ | sed '/total /d' | head -10
    elif [[ "${1}" =~ "/" ]]; then
      ls -G -ltd -- "$(dirname "${1}")"/*"$(basename "${1}")"* | sed '/total /d' | head -10
    else
      ls -G -ltd -- *"${1}"* | sed '/total /d' | head -10
    fi
  else
    ls -G -lt -- . | sed '/total /d' | head -10
  fi
}

lta() {
  if [[ -n "${1}" ]]; then
    if [[ "${1: -1}" == "/" ]]; then
      ls -G -ltA -- "${1}" | sed '/total /d' | head -10
    elif [[ -d "${1}" ]]; then
      ls -G -ltA -- "${1}"/ | sed '/total /d' | head -10
    elif [[ "${1}" =~ "/" ]]; then
      ls -G -ltAd -- "$(dirname "${1}")"/*"$(basename "${1}")"* | sed '/total /d' | head -10
    else
      ls -G -ltAd -- *"${1}"* | sed '/total /d' | head -10
    fi
  else
    ls -G -ltA -- . | sed '/total /d' | head -10
  fi
}

lf() {
  if [[ -n "${1}" ]]; then
    if [[ "${1: -1}" == "/" ]]; then
      ls -G -ld -- "${1}"*(-.)
    elif [[ -d "${1}" ]]; then
      ls -G -ld -- "${1}"/*(-.)
    elif [[ "${1}" =~ "/" ]]; then
      ls -G -ld -- "$(dirname "${1}")"/*"$(basename "${1}")"*(-.)
    else
      ls -G -ld -- *"${1}"*(-.)
    fi
  else
    ls -G -l -- *(-.)
  fi
}

lfa() {
  if [[ -n "${1}" ]]; then
    if [[ "${1: -1}" == "/" ]]; then
      ls -G -ldA -- "${1}"*(D-.)
    elif [[ -d "${1}" ]]; then
      ls -G -ldA -- "${1}"/*(D-.)
    elif [[ "${1}" =~ "/" ]]; then
      ls -G -ldA -- "$(dirname "${1}")"/*"$(basename "${1}")"*(D-.)
    else
      ls -G -ldA -- *"${1}"*(D-.)
    fi
  else
    ls -G -lA -- *(D-.)
  fi
}

ld() {
  if [[ -n "${1}" ]]; then
    if [[ "${1: -1}" == "/" ]]; then
      ls -G -ld -- "${1}"*(-/)
    elif [[ -d "${1}" ]]; then
      ls -G -ld -- "${1}"/*(-/)
    elif [[ "${1}" =~ "/" ]]; then
      ls -G -ld -- "$(dirname "${1}")"/*"$(basename "${1}")"*(-/)
    else
      ls -G -ld -- *"${1}"*(-/)
    fi
  else
    ls -G -ld -- *(-/)
  fi
}

lda() {
  if [[ -n "${1}" ]]; then
    if [[ "${1: -1}" == "/" ]]; then
      ls -G -ldA -- "${1}"*(D-/)
    elif [[ -d "${1}" ]]; then
      ls -G -ldA -- "${1}"/*(D-/)
    elif [[ "${1}" =~ "/" ]]; then
      ls -G -ldA -- "$(dirname "${1}")"/*"$(basename "${1}")"*(D-/)
    else
      ls -G -ldA -- *"${1}"*(D-/)
    fi
  else
    ls -G -ldA -- *(D-/)
  fi
}

alias pa="ps -af"

alias font_refresh="sudo fc-cache -f -v"
####################
####################

# @todo Distro Package Manager Aliases
# @body Create package manager aliases for other distro (fedora, alpine, etc) package managers.
####################
# Package Managers
####################
# apt
is_installed apt && file_exists "${HOME}/.dotfiles/alias/.apt.alias" && source "${HOME}/.dotfiles/alias/.apt.alias"

# dpkg
is_installed dpkg && file_exists "${HOME}/.dotfiles/alias/.dpkg.alias" && source "${HOME}/.dotfiles/alias/.dpkg.alias"

# pip
is_installed pip3 && file_exists "${HOME}/.dotfiles/alias/.pip.alias" && source "${HOME}/.dotfiles/alias/.pip.alias"

# gem
is_installed gem && file_exists "${HOME}/.dotfiles/alias/.gem.alias" && source "${HOME}/.dotfiles/alias/.gem.alias"
####################
####################

####################
# Applications
####################
# chrome
is_installed google-chrome && file_exists "${HOME}/.dotfiles/alias/.chrome.alias" && source "${HOME}/.dotfiles/alias/.chrome.alias"

# exa
is_installed exa && file_exists "${HOME}/.dotfiles/alias/.exa.alias" && source "${HOME}/.dotfiles/alias/.exa.alias"

# git
#is_installed git && file_exists "${HOME}/.dotfiles/alias/.git.alias" && source "${HOME}/.dotfiles/alias/.git.alias"

# httpie
is_installed http && file_exists "${HOME}/.dotfiles/alias/.httpie.alias" && source "${HOME}/.dotfiles/alias/.httpie.alias"

# hub
#is_installed hub && file_exists "${HOME}/.dotfiles/alias/.hub.alias" && source "${HOME}/.dotfiles/alias/.hub.alias"

# hyperfine
is_installed hyperfine && file_exists "${HOME}/.dotfiles/alias/.hyperfine.alias" && source "${HOME}/.dotfiles/alias/.hyperfine.alias"

# nmap
is_installed nmap && file_exists "${HOME}/.dotfiles/alias/.nmap.alias" && source "${HOME}/.dotfiles/alias/.nmap.alias"

# ssh
is_installed ssh && file_exists "${HOME}/.dotfiles/alias/.ssh.alias" && source "${HOME}/.dotfiles/alias/.ssh.alias"

# vim
is_installed vim && file_exists "${HOME}/.dotfiles/alias/.vim.alias" && source "${HOME}/.dotfiles/alias/.vim.alias"

# vscode
is_installed code && file_exists "${HOME}/.dotfiles/alias/.vscode.alias" && source "${HOME}/.dotfiles/alias/.vscode.alias"
####################
####################
